(function(){"use strict";var t={2229:function(t,e,a){var o=a(6369),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-nav-wrapper",attrs:{id:"app"}},[e("nav",{staticClass:"home-nav"},[e("router-link",{attrs:{to:"/"}},[t._v("ホーム")]),e("router-link",{attrs:{to:"/model-viewer/demo"}},[t._v("3D家具グリグリ")]),e("router-link",{attrs:{to:"/model-viewer/heat-map-3d"}},[t._v("グリグリを使った3Dヒートマップ")])],1),e("router-view")],1)},r=[],n=a(1001),s={},l=(0,n.Z)(s,i,r,!1,null,null,null),c=l.exports,u=a(2631),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("h1",[t._v("にっしーの技術ノート")]),e("ul",{staticClass:"page-box-list"},t._l(t.pages,(function(a){return e("li",{key:`page-${a.key}`},[e("router-link",{attrs:{to:a.to}},[e("div",{staticClass:"page-box"},[e("img",{staticClass:"page-box-img",attrs:{src:a.thumbnail,alt:a.key,width:"250",height:"250"}}),e("div",[e("h2",{staticClass:"page-box-title"},[t._v(t._s(a.title))]),e("p",{staticClass:"page-box-text"},[t._v(t._s(a.detail))])])])])],1)})),0)])},d=[],m={name:"HomeView",data(){return{pages:[{key:"model-viewer-demo",to:"/model-viewer/demo",thumbnail:"assets/images/thumbnail-heat-map-3d.jpg",title:"3D家具グリグリ",detail:"お客さんが家具を360度自由に見られる技術を紹介！\n購買意欲を搔き立てること間違いなし！"},{key:"heat-map-3d",to:"/model-viewer/heat-map-3d",thumbnail:"assets/images/thumbnail-heat-map-3d.jpg",title:"グリグリを使った3Dヒートマップ",detail:"お客さんが家具のどこを注目しているか分析するための技術を紹介！\n商品開発の助けになるかも？"}]}}},p=m,v=(0,n.Z)(p,h,d,!1,null,null,null),f=v.exports,b=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"introduction"},[e("h1",{staticClass:"page-title"},[t._v("グリグリを使った3Dヒートマップ")]),e("h2",{staticClass:"introduction-title"},[t._v("技術紹介")]),e("div",{staticClass:"introduction-top-wrapper"},[e("div",{staticClass:"introduction-top-inner"},[t.isMounted?e("model-viewer",{staticClass:"model-viewer",attrs:{id:"heat-map-3d-demo",src:"assets/models/cube.glb","camera-controls":""}}):t._e(),e("p",{staticClass:"introduction-top-text",attrs:{id:"search-text",hidden:""}},[t._v("計測中..")]),e("div",{staticClass:"introduction-btn-wrapper"},[e("button",{staticClass:"introduction-btn",attrs:{id:"start-btn"},on:{click:function(e){return t.startMeasuremunt()}}},[t._v("計測を開始")]),e("button",{staticClass:"introduction-btn",attrs:{id:"stop-btn",disabled:""},on:{click:function(e){return t.stopMeasuremunt()}}},[t._v("計測を終了")])])],1),t._m(0),e("div",{staticClass:"introduction-score-wrapper"},[e("h3",[t._v("ユーザーが閲覧した割合")]),e("ul",{staticClass:"introduction-score-list"},t._l(t.scores,(function(a){return e("li",{key:a.key,class:`introduction-score-itme-${a.key}`},[e("style",{tag:"component"},[t._v(" .introduction-score-itme-"+t._s(a.key)+"{ color: rgb("+t._s(a.color[0])+","+t._s(a.color[1])+","+t._s(a.color[2])+"); } ")]),t._v(" "+t._s(a.name)+"："+t._s(a.value)+" % ")],1)})),0),t._m(1)])])])])},y=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"assets/images/color-bar.png",alt:"color-bar",width:"30",height:"400"}})])},function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("操作説明")]),e("ul",{staticClass:"introduction-detail-list"},[e("li",[t._v(" 計測を開始ボタンを押す ")]),e("li",[t._v(" 好きなだけキューブをグリグリする ")]),e("li",[t._v(" 計測を終了ボタンを押す ")]),e("li",[t._v(" キューブの面に、その面を見た時間の長さに応じたヒートマップが生成される ")])])])}],_={name:"HeatMap3d",data(){return{isMounted:!1,timer:null,deltaTime:100,thetaArray:[],phiArray:[],scores:[{key:"front",name:"正面",value:0,color:[0,0,0]},{key:"back",name:"裏面",value:0,color:[0,0,0]},{key:"right",name:"右面",value:0,color:[0,0,0]},{key:"left",name:"左面",value:0,color:[0,0,0]},{key:"up",name:"上面",value:0,color:[0,0,0]},{key:"down",name:"下面",value:0,color:[0,0,0]}]}},methods:{startMeasuremunt(){document.getElementById("start-btn").disabled=!0,document.getElementById("stop-btn").disabled=!1,document.getElementById("search-text").hidden=!1,this.resetMaterialColor(),this.timer=window.setInterval((()=>{this.getCameraLocation()}),100)},stopMeasuremunt(){document.getElementById("start-btn").disabled=!1,document.getElementById("stop-btn").disabled=!0,document.getElementById("search-text").hidden=!0,clearInterval(this.timer),this.time=null,this.scores[0].value=this.calculateFrontScore(),this.scores[1].value=this.calculateBackScore(),this.scores[2].value=this.calculateRightScore(),this.scores[3].value=this.calculateLeftScore(),[this.scores[4].value,this.scores[5].value]=this.calculateUpDownScore(),this.scoreToColor(),this.setMaterialColor(),this.NormalizeScore(),this.thetaArray=[],this.phiArray=[]},getCameraLocation(){const t=document.querySelector("model-viewer#heat-map-3d-demo"),e=t.getCameraOrbit().theta,a=t.getCameraOrbit().phi,o=this.convertTheta(e),i=this.convertPhi(a);this.thetaArray.push(o),this.phiArray.push(i)},convertTheta(t){let e=2-2*(t/Math.PI/2-Math.floor(t/Math.PI/2));return e>1&&(e-=2),e=Math.floor(100*e)/100,e},convertPhi(t){let e=2*(t/Math.PI/2-Math.floor(t/Math.PI/2));return e>1&&(e-=2),e=Math.floor(100*e)/100,e},calculateFrontScore(){let t=0;for(let e=0;e<this.thetaArray.length;e++){let a=0,o=0;Math.abs(this.thetaArray[e])<.5&&(a=Math.cos(this.thetaArray[e]*Math.PI)),Math.abs(this.phiArray[e])>0&&Math.abs(this.phiArray[e])<1&&(o=Math.sin(this.phiArray[e]*Math.PI)),t+=a*o}return t/=this.thetaArray.length,t},calculateBackScore(){let t=0;for(let e=0;e<this.thetaArray.length;e++){let a=0,o=0;Math.abs(this.thetaArray[e])>.5&&(a=-Math.cos(this.thetaArray[e]*Math.PI)),Math.abs(this.phiArray[e])>0&&Math.abs(this.phiArray[e])<1&&(o=Math.sin(this.phiArray[e]*Math.PI)),t+=a*o}return t/=this.thetaArray.length,t},calculateRightScore(){let t=0;for(let e=0;e<this.thetaArray.length;e++){let a=0,o=0;this.thetaArray[e]>0&&(a=Math.sin(this.thetaArray[e]*Math.PI)),Math.abs(this.phiArray[e])>0&&Math.abs(this.phiArray[e])<1&&(o=Math.sin(this.phiArray[e]*Math.PI)),t+=a*o}return t/=this.thetaArray.length,t},calculateLeftScore(){let t=0;for(let e=0;e<this.thetaArray.length;e++){let a=0,o=0;this.thetaArray[e]<0&&(a=-Math.sin(this.thetaArray[e]*Math.PI)),Math.abs(this.phiArray[e])>0&&Math.abs(this.phiArray[e])<1&&(o=Math.sin(this.phiArray[e]*Math.PI)),t+=a*o}return t/=this.thetaArray.length,t},calculateUpDownScore(){let t=0,e=0;for(let a=0;a<this.phiArray.length;a++)Math.abs(this.phiArray[a])<.5?t+=Math.cos(this.phiArray[a]*Math.PI):e-=Math.cos(this.phiArray[a]*Math.PI);return t/=this.phiArray.length,e/=this.phiArray.length,[t,e]},scoreToColor(){const t=Math.max(this.scores[0].value,this.scores[1].value,this.scores[2].value,this.scores[3].value,this.scores[4].value,this.scores[5].value);for(let e=0;e<this.scores.length;e++){const a=this.scores[e].value/t;let o=0,i=0,r=0;a>=.5&&(o=255*(2*a-1)),a>=.25&&a<=.5?i=510*a:a>.5&&a<=.75&&(i=255*(-2*a+2)),a<=.5&&(r=255*(-2*a+1)),this.scores[e].color=[Math.floor(o),Math.floor(i),Math.floor(r)]}},setMaterialColor(){const t=document.querySelector("model-viewer#heat-map-3d-demo");for(let e=0;e<t.model.materials.length;e++){const a=t.model.materials[e];a.pbrMetallicRoughness.setBaseColorFactor([this.scores[e].color[0]/255,this.scores[e].color[1]/255,this.scores[e].color[2]/255])}},resetMaterialColor(){const t=document.querySelector("model-viewer#heat-map-3d-demo");for(let e=0;e<t.model.materials.length;e++){const a=t.model.materials[e];a.pbrMetallicRoughness.setBaseColorFactor([.5,.5,.5])}},NormalizeScore(){let t=0;for(let e=0;e<this.scores.length;e++)t+=this.scores[e].value;for(let e=0;e<this.scores.length;e++)this.scores[e].value=Math.floor(this.scores[e].value/t*100)}},mounted(){this.isMounted=!0,this.loadComponent()},computed:{loadComponent(){return()=>a.e(25).then(a.bind(a,5025))}}},g=_,C=(0,n.Z)(g,b,y,!1,null,"65affdfa",null),M=C.exports,w=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"introduction"},[e("h1",{staticClass:"page-title"},[t._v("3D家具グリグリ")]),e("h2",{staticClass:"introduction-title"},[t._v("家具の3Dモデルを表示してユーザーが操作可能！")]),e("div",{staticClass:"introduction-top-wrapper"},[t.isMounted?e("model-viewer",{staticClass:"model-viewer",attrs:{id:"heat-map-3d-demo",src:"assets/models/model.glb","camera-controls":"","enable-pan":""}}):t._e(),t._m(0)],1),e("div",{staticClass:"introduction-top-wrapper"},[t.isMounted?e("model-viewer",{staticClass:"model-viewer",attrs:{id:"heat-map-3d-demo",src:"assets/models/room1.glb","camera-controls":"","enable-pan":"","camera-target":"0.7m 1m -0.5m","camera-orbit":"60deg 70deg 90%"}}):t._e(),t._m(1)],1),e("div",{staticClass:"introduction-top-wrapper"},[t.isMounted?e("model-viewer",{staticClass:"model-viewer",attrs:{id:"annotation-demo-01",src:"assets/models/cupboard01.glb","camera-controls":"","enable-pan":"","shadow-intensity":"1","shadow-softness":"0","camera-target":"0m 1m 0m","camera-orbit":"0deg 90deg 10%"}},[e("button",{attrs:{slot:"hotspot-point1","data-position":"0.3m 1m 0.3m","data-normal":"0 0 1"},slot:"hotspot-point1"},[e("div",{staticClass:"annotation1"},[t._v("ポイント１")])]),e("button",{attrs:{slot:"hotspot-point2","data-position":"-0.3m 0.3m 0.3m","data-normal":"0 0 1"},slot:"hotspot-point2"},[e("div",{staticClass:"annotation2"},[t._v("ポイント２")])])]):t._e(),t._m(2)],1),e("div",{staticClass:"introduction-top-wrapper"},[t.isMounted?e("model-viewer",{staticClass:"model-viewer",attrs:{id:"animation-demo-01",src:"assets/models/cupboard01.glb","camera-controls":"","enable-pan":"","shadow-intensity":"1","shadow-softness":"0","camera-target":"0m 1m 0m","camera-orbit":"0deg 90deg 10%"}},[e("p",{attrs:{id:"animation-demo-text"}},[t._v("アニメーション：停止中")])]):t._e(),e("div",[e("h3",{staticClass:"introduction-detail-title"},[t._v("説明")]),e("h4",[t._v("様々なアニメーションを追加可能")]),e("ul",{staticClass:"introduction-button-list"},[e("li",[e("button",{staticClass:"animation-play-btn",on:{click:function(e){return t.playAnimation("body_move")}}},[t._v("移動")])]),e("li",[e("button",{staticClass:"animation-play-btn",on:{click:function(e){return t.playAnimation("body_rotation")}}},[t._v("回転")])]),e("li",[e("button",{staticClass:"animation-play-btn",on:{click:function(e){return t.playAnimation("body_scale")}}},[t._v("拡縮")])]),e("li",[e("button",{staticClass:"animation-play-btn",on:{click:function(e){return t.playAnimation("left_door_open")}}},[t._v("左ドアの開閉")])]),e("li",[e("button",{staticClass:"animation-play-btn",on:{click:function(e){return t.playAnimation("rigth_door_open")}}},[t._v("右ドアの開閉")])]),e("li",[e("button",{staticClass:"animation-pause-btn",on:{click:function(e){return t.stopAnimation()}}},[t._v("停止")])])])])],1),e("div",{staticClass:"introduction-top-wrapper"},[t.isMounted?e("model-viewer",{staticClass:"model-viewer",attrs:{id:"animation-demo-01",src:"assets/models/cupboard02.glb","camera-controls":"","enable-pan":"","shadow-intensity":"1","shadow-softness":"0","camera-target":"0m 1m 0m","camera-orbit":"30deg 80deg 10%",autoplay:""}}):t._e(),t._m(3)],1)])])},A=[function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"introduction-detail-title"},[t._v("操作説明")]),e("h4",[t._v("-PCの場合-")]),e("ul",{staticClass:"introduction-detail-text"},[e("li",[t._v(" マウスの左クリックをホールドしながら、上下左右に動かすことで家具を回転 ")]),e("li",[t._v(" マウスの右クリックをホールドしながら、上下左右に動かすことで家具を平行移動 ")]),e("li",[t._v(" マウスのホイールで拡大縮小が可能 ")])]),e("h4",[t._v("-スマホの場合-")]),e("ul",{staticClass:"introduction-detail-text"},[e("li",[t._v(" スワイプ操作で家具を回転させることができる ")]),e("li",[t._v(" 2本指で拡大縮小が可能 ")])])])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"introduction-detail-title"},[t._v("説明")]),e("h4",[t._v("部屋を丸ごと表示することも可能！")]),e("ul",{staticClass:"introduction-detail-text"},[e("li",[t._v(" コーディネートを丸ごと3Dにしてお部屋を覗くことも ")])])])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"introduction-detail-title"},[t._v("説明")]),e("h4",[t._v("注釈追加")]),e("ul",{staticClass:"introduction-detail-text"},[e("li",[t._v(" 3Dモデル上に注釈を追加でき、家具を回転させると注釈が隠れる ")])])])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"introduction-detail-title"},[t._v("説明")]),e("h4",[t._v("家具の利用方法もアニメーションに")]),e("ul",{staticClass:"introduction-button-list"},[e("li",[t._v(" 機能性を推したい家具では、アニメーションを使うことでその用途を効果的に説明可能 ")])])])}],k={name:"ModelViewerDemo",data(){return{isMounted:!1}},methods:{playAnimation(t){const e=document.querySelector("model-viewer#animation-demo-01");e.animationName=t,e.play(),document.getElementById("animation-demo-text").textContent="アニメーション：再生中"},stopAnimation(){const t=document.querySelector("model-viewer#animation-demo-01");t.pause(),document.getElementById("animation-demo-text").textContent="アニメーション：停止中"}},mounted(){this.isMounted=!0,this.loadComponent()},computed:{loadComponent(){return()=>a.e(25).then(a.bind(a,5025))}}},x=k,P=(0,n.Z)(x,w,A,!1,null,"d887e864",null),I=P.exports;o.ZP.use(u.Z);const S=[{path:"/",name:"home",component:f},{path:"/model-viewer/heat-map-3d",name:"model-viewer.heat-map-3d",component:M},{path:"/model-viewer/demo",name:"model-viewer.demo",component:I}],O=new u.Z({base:"",routes:S});var j=O;o.ZP.config.productionTip=!1,new o.ZP({router:j,render:t=>t(c)}).$mount("#app")}},e={};function a(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,o,i,r){if(!o){var n=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],r=t[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(s=!1,r<n&&(n=r));if(s){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,o){return a.f[o](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+".cf0b8c78.js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="nissy-tech:";a.l=function(o,i,r,n){if(t[o])t[o].push(i);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==o||h.getAttribute("data-webpack")==e+r){s=h;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",e+r),s.src=o),t[o]=[i];var d=function(e,a){s.onerror=s.onload=null,clearTimeout(m);var i=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var t={143:0};a.f.j=function(e,o){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((function(a,o){i=t[e]=[a,o]}));o.push(i[2]=r);var n=a.p+a.u(e),s=new Error,l=function(o){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",s.name="ChunkLoadError",s.type=r,s.request=n,i[1](s)}};a.l(n,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,n=o[0],s=o[1],l=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var u=l(a)}for(e&&e(o);c<n.length;c++)r=n[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},o=self["webpackChunknissy_tech"]=self["webpackChunknissy_tech"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(2229)}));o=a.O(o)})();
//# sourceMappingURL=app.3789caad.js.map