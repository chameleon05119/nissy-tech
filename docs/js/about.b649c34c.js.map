{"version":3,"file":"js/about.b649c34c.js","mappings":"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","sources":["webpack://nissy-tech/./src/views/ModelViewer/HeatMap3d.vue","webpack://nissy-tech/src/views/ModelViewer/HeatMap3d.vue","webpack://nissy-tech/./src/views/ModelViewer/HeatMap3d.vue?475f","webpack://nissy-tech/./src/views/ModelViewer/HeatMap3d.vue?f4d5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('section',{staticClass:\"introduction\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"グリグリを使った3Dヒートマップ\")]),_c('h2',{staticClass:\"introduction-title\"},[_vm._v(\"技術紹介\")]),_c('div',{staticClass:\"introduction-top-wrapper\"},[_c('div',{staticClass:\"introduction-top-inner\"},[(_vm.isMounted)?_c('model-viewer',{staticClass:\"model-viewer\",attrs:{\"id\":\"heat-map-3d-demo\",\"src\":\"assets/models/cube.glb\",\"camera-controls\":\"\"}}):_vm._e(),_c('p',{staticClass:\"introduction-top-text\",attrs:{\"id\":\"search-text\",\"hidden\":\"\"}},[_vm._v(\"計測中..\")]),_c('div',{staticClass:\"introduction-btn-wrapper\"},[_c('button',{staticClass:\"introduction-btn\",attrs:{\"id\":\"start-btn\"},on:{\"click\":function($event){return _vm.startMeasuremunt()}}},[_vm._v(\"計測を開始\")]),_c('button',{staticClass:\"introduction-btn\",attrs:{\"id\":\"stop-btn\",\"disabled\":\"\"},on:{\"click\":function($event){return _vm.stopMeasuremunt()}}},[_vm._v(\"計測を終了\")])])],1),_vm._m(0),_c('div',{staticClass:\"introduction-score-wrapper\"},[_c('h3',[_vm._v(\"ユーザーが閲覧した割合\")]),_c('ul',{staticClass:\"introduction-score-list\"},_vm._l((_vm.scores),function(score){return _c('li',{key:score.key,class:`introduction-score-itme-${score.key}`},[_c('style',{tag:\"component\"},[_vm._v(\" .introduction-score-itme-\"+_vm._s(score.key)+\"{ color: rgb(\"+_vm._s(score.color[0])+\",\"+_vm._s(score.color[1])+\",\"+_vm._s(score.color[2])+\"); } \")]),_vm._v(\" \"+_vm._s(score.name)+\"：\"+_vm._s(score.value)+\" % \")],1)}),0),_vm._m(1)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('img',{attrs:{\"src\":\"assets/images/color-bar.png\",\"alt\":\"color-bar\",\"width\":\"30\",\"height\":\"400\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h3',[_vm._v(\"操作説明\")]),_c('ul',{staticClass:\"introduction-detail-list\"},[_c('li',[_vm._v(\" 計測を開始ボタンを押す \")]),_c('li',[_vm._v(\" 好きなだけキューブをグリグリする \")]),_c('li',[_vm._v(\" 計測を終了ボタンを押す \")]),_c('li',[_vm._v(\" キューブの面に、その面を見た時間の長さに応じたヒートマップが生成される \")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <section class=\"introduction\">\r\n      <h1 class=\"page-title\">グリグリを使った3Dヒートマップ</h1>\r\n      <h2 class=\"introduction-title\">技術紹介</h2>\r\n      <div class=\"introduction-top-wrapper\">\r\n        <div class=\"introduction-top-inner\">\r\n          <model-viewer id=\"heat-map-3d-demo\" v-if=\"isMounted\" src=\"assets/models/cube.glb\" camera-controls class=\"model-viewer\">\r\n          </model-viewer>\r\n          <p id=\"search-text\" class=\"introduction-top-text\" hidden>計測中..</p>\r\n          <div class=\"introduction-btn-wrapper\">\r\n            <button id=\"start-btn\" v-on:click=\"startMeasuremunt()\" class=\"introduction-btn\">計測を開始</button>\r\n            <button id=\"stop-btn\" v-on:click=\"stopMeasuremunt()\" class=\"introduction-btn\" disabled>計測を終了</button>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <img src=\"assets/images/color-bar.png\" alt=\"color-bar\" width=\"30\" height=\"400\">\r\n        </div>\r\n        <div class=\"introduction-score-wrapper\">\r\n          <h3>ユーザーが閲覧した割合</h3>\r\n          <ul class=\"introduction-score-list\">\r\n            <li v-for=\"score in scores\" :key=\"score.key\" :class=\"`introduction-score-itme-${score.key}`\">\r\n              <component :is=\"'style'\">\r\n                .introduction-score-itme-{{score.key}}{\r\n                  color: rgb({{score.color[0]}},{{score.color[1]}},{{score.color[2]}});\r\n                }\r\n              </component>\r\n              {{score.name}}：{{score.value}} %\r\n            </li>\r\n          </ul>\r\n          <div>\r\n            <h3>操作説明</h3>\r\n            <ul class=\"introduction-detail-list\">\r\n              <li>\r\n                計測を開始ボタンを押す\r\n              </li>\r\n              <li>\r\n                好きなだけキューブをグリグリする\r\n              </li>\r\n              <li>\r\n                計測を終了ボタンを押す\r\n              </li>\r\n              <li>\r\n                キューブの面に、その面を見た時間の長さに応じたヒートマップが生成される\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'HeatMap3d',\r\n  data() {\r\n    return {\r\n      isMounted: false,\r\n      timer: null,\r\n      deltaTime: 100,\r\n      thetaArray: [],\r\n      phiArray: [],\r\n      scores:[\r\n        {\r\n          key: 'front',\r\n          name: '正面',\r\n          value: 0,\r\n          color: [0,0,0],\r\n        },\r\n        {\r\n          key: 'back',\r\n          name: '裏面',\r\n          value: 0,\r\n          color: [0,0,0],\r\n        },\r\n        {\r\n          key: 'right',\r\n          name: '右面',\r\n          value: 0,\r\n          color: [0,0,0],\r\n        },\r\n        {\r\n          key: 'left',\r\n          name: '左面',\r\n          value: 0,\r\n          color: [0,0,0],\r\n        },\r\n        {\r\n          key: 'up',\r\n          name: '上面',\r\n          value: 0,\r\n          color: [0,0,0],\r\n        },\r\n        {\r\n          key: 'down',\r\n          name: '下面',\r\n          value: 0,\r\n          color: [0,0,0],\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  methods:{\r\n    startMeasuremunt(){\r\n      document.getElementById(\"start-btn\").disabled = true;\r\n      document.getElementById(\"stop-btn\").disabled = false;\r\n      document.getElementById(\"search-text\").hidden = false;\r\n      this.resetMaterialColor();\r\n      this.timer = window.setInterval(()=>{this.getCameraLocation()}, 100);\r\n    },\r\n    stopMeasuremunt(){\r\n      document.getElementById(\"start-btn\").disabled = false;\r\n      document.getElementById(\"stop-btn\").disabled = true;\r\n      document.getElementById(\"search-text\").hidden = true;\r\n      clearInterval(this.timer);\r\n      this.time = null;\r\n      this.scores[0].value = this.calculateFrontScore();\r\n      this.scores[1].value = this.calculateBackScore();\r\n      this.scores[2].value = this.calculateRightScore();\r\n      this.scores[3].value = this.calculateLeftScore();\r\n      [this.scores[4].value, this.scores[5].value] = this.calculateUpDownScore();\r\n      this.scoreToColor();\r\n      this.setMaterialColor();\r\n      this.NormalizeScore();\r\n      this.thetaArray = [];\r\n      this.phiArray = [];\r\n    },\r\n    getCameraLocation(){\r\n      const modelviewer01 = document.querySelector('model-viewer#heat-map-3d-demo');\r\n      \r\n      const rawTheta = modelviewer01.getCameraOrbit().theta;\r\n      const rawPhi = modelviewer01.getCameraOrbit().phi;\r\n      const theta = this.convertTheta(rawTheta);\r\n      const phi = this.convertPhi(rawPhi);\r\n\r\n      this.thetaArray.push(theta)\r\n      this.phiArray.push(phi)\r\n    },\r\n    convertTheta(rawTheta){\r\n      let theta = 2 - 2 * (rawTheta/Math.PI/2 - Math.floor(rawTheta/Math.PI/2));\r\n      if(theta>1){\r\n        theta -= 2;\r\n      }\r\n      theta = Math.floor(100 * theta) / 100;\r\n\r\n      return theta;\r\n    },\r\n    convertPhi(rawPhi){\r\n      let phi = 2 * (rawPhi/Math.PI/2 - Math.floor(rawPhi/Math.PI/2));\r\n      if(phi>1){\r\n        phi -= 2;\r\n      }\r\n      phi = Math.floor(100 * phi) / 100;\r\n\r\n      return phi;\r\n    },\r\n    calculateFrontScore(){\r\n      let frontScore = 0;\r\n\r\n      for(let i=0; i<this.thetaArray.length; i++){\r\n        let thetaFrontScore = 0;\r\n        let phiFrontScore = 0;\r\n\r\n        if(Math.abs(this.thetaArray[i]) < 0.5){\r\n          thetaFrontScore = Math.cos(this.thetaArray[i]*Math.PI);\r\n        }\r\n        if(Math.abs(this.phiArray[i]) > 0 && Math.abs(this.phiArray[i])< 1){\r\n          phiFrontScore = Math.sin(this.phiArray[i]*Math.PI);\r\n        }\r\n        frontScore += thetaFrontScore * phiFrontScore;\r\n      }\r\n      frontScore /= this.thetaArray.length;\r\n      return frontScore;\r\n    },\r\n    calculateBackScore(){\r\n      let backScore = 0;\r\n\r\n      for(let i=0; i<this.thetaArray.length; i++){\r\n        let thetaBackScore = 0;\r\n        let phiBackScore = 0;\r\n\r\n        if(Math.abs(this.thetaArray[i]) > 0.5){\r\n          thetaBackScore = -Math.cos(this.thetaArray[i]*Math.PI);\r\n        }\r\n        if(Math.abs(this.phiArray[i]) > 0 && Math.abs(this.phiArray[i])< 1){\r\n          phiBackScore = Math.sin(this.phiArray[i]*Math.PI);\r\n        }\r\n        backScore += thetaBackScore * phiBackScore;\r\n      }\r\n      backScore /= this.thetaArray.length;\r\n      return backScore;\r\n    },\r\n    calculateRightScore(){\r\n      let rightScore = 0;\r\n\r\n      for(let i=0; i<this.thetaArray.length; i++){\r\n        let thetaRightScore = 0;\r\n        let phiRightScore = 0;\r\n\r\n        if(this.thetaArray[i] > 0){\r\n          thetaRightScore = Math.sin(this.thetaArray[i]*Math.PI);\r\n        }\r\n        if(Math.abs(this.phiArray[i]) > 0 && Math.abs(this.phiArray[i])< 1){\r\n          phiRightScore = Math.sin(this.phiArray[i]*Math.PI);\r\n        }\r\n        rightScore += thetaRightScore * phiRightScore;\r\n      }\r\n      rightScore /= this.thetaArray.length;\r\n      return rightScore;\r\n    },\r\n    calculateLeftScore(){\r\n      let leftScore = 0;\r\n\r\n      for(let i=0; i<this.thetaArray.length; i++){\r\n        let thetaLeftScore = 0;\r\n        let phiLeftScore = 0;\r\n\r\n        if(this.thetaArray[i] < 0){\r\n          thetaLeftScore = -Math.sin(this.thetaArray[i]*Math.PI);\r\n        }\r\n        if(Math.abs(this.phiArray[i]) > 0 && Math.abs(this.phiArray[i])< 1){\r\n          phiLeftScore = Math.sin(this.phiArray[i]*Math.PI);\r\n        }\r\n        leftScore += thetaLeftScore * phiLeftScore;\r\n      }\r\n      leftScore /= this.thetaArray.length;\r\n\r\n      return leftScore;\r\n    },\r\n    calculateUpDownScore(){\r\n      let upScore = 0;\r\n      let downScore = 0;\r\n\r\n      for(let i=0; i<this.phiArray.length; i++){\r\n        if(Math.abs(this.phiArray[i]) < 0.5){\r\n          upScore += Math.cos(this.phiArray[i]*Math.PI);\r\n        }\r\n        else{\r\n          downScore -= Math.cos(this.phiArray[i]*Math.PI);\r\n        }\r\n      }\r\n      upScore /= this.phiArray.length;\r\n      downScore /= this.phiArray.length;\r\n\r\n      return [upScore, downScore];\r\n    },\r\n    scoreToColor(){\r\n      const maxScore = Math.max(this.scores[0].value, this.scores[1].value, this.scores[2].value, this.scores[3].value, this.scores[4].value, this.scores[5].value);\r\n\r\n      for(let i = 0; i < this.scores.length; i++){\r\n        const score = this.scores[i].value/maxScore;\r\n        let r = 0;\r\n        let g = 0;\r\n        let b = 0;\r\n\r\n        if(score >= 0.5){\r\n          r = 255 * (2*score - 1);\r\n        }\r\n        if(score >= 0.25 && score <= 0.5){\r\n          g = 255 * 2*score;\r\n        }\r\n        else if(score > 0.5 && score <= 0.75){\r\n          g = 255 * (-2*score + 2);\r\n        }\r\n        if(score <= 0.5){\r\n          b = 255 * (-2*score + 1);\r\n        }\r\n        this.scores[i].color = [Math.floor(r), Math.floor(g), Math.floor(b)];\r\n      }\r\n    },\r\n    setMaterialColor(){\r\n      const modelviewer01 = document.querySelector('model-viewer#heat-map-3d-demo');\r\n      for(let i=0; i<modelviewer01.model.materials.length; i++){\r\n        const flontMaterial = modelviewer01.model.materials[i];\r\n        flontMaterial.pbrMetallicRoughness.setBaseColorFactor([this.scores[i].color[0]/255,this.scores[i].color[1]/255,this.scores[i].color[2]/255]);\r\n      }\r\n    },\r\n    resetMaterialColor(){\r\n      const modelviewer01 = document.querySelector('model-viewer#heat-map-3d-demo');\r\n      for(let i=0; i<modelviewer01.model.materials.length; i++){\r\n        const flontMaterial = modelviewer01.model.materials[i];\r\n        flontMaterial.pbrMetallicRoughness.setBaseColorFactor([0.5, 0.5, 0.5]);\r\n      }\r\n    },\r\n    NormalizeScore(){\r\n      let TotalScore = 0;\r\n      for(let i = 0; i < this.scores.length; i++){\r\n        TotalScore += this.scores[i].value;\r\n      }\r\n      for(let i = 0; i < this.scores.length; i++){\r\n        this.scores[i].value = Math.floor(this.scores[i].value/TotalScore * 100);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isMounted = true;\r\n    this.loadComponent();\r\n  },\r\n  computed: {\r\n    loadComponent() {\r\n      return () => import('@google/model-viewer');\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@keyframes text-scale-loop{\r\n  0%{\r\n    font-size: 1.2rem;\r\n  }\r\n  50%{\r\n    font-size: 1.6rem;\r\n  }\r\n  100%{\r\n    font-size: 1.2rem;\r\n  }\r\n}\r\n\r\n%container{\r\n  width: 1000px;\r\n  margin-left: 350px;\r\n  border-left: 1px solid #555;\r\n}\r\n\r\n.page-title{\r\n  font-size: 2rem;\r\n}\r\n\r\n// 技術紹介\r\n.introduction{\r\n  @extend %container;\r\n  padding: 0 40px;\r\n}\r\n\r\n.introduction-title{\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.introduction-top-wrapper{\r\n  display: flex;\r\n  column-gap: 80px;\r\n}\r\n\r\n.introduction-top-inner{\r\n  position: relative;\r\n}\r\n\r\n.introduction-top-text{\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 160px;\r\n  animation: text-scale-loop 1.5s linear infinite;\r\n  font-weight: 800;\r\n}\r\n\r\n.model-viewer{\r\n  width: 400px;\r\n  height: 400px;\r\n  border: 1px solid #eee;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.introduction-btn-wrapper{\r\n  padding: 20px 0;\r\n  border: 1px solid #000;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  column-gap: 30px;\r\n}\r\n\r\n.introduction-btn{\r\n  font-size: 1.4rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n\r\n.introduction-score-list{\r\n  display: flex;\r\n  justify-content: left;\r\n  flex-direction: column;\r\n  row-gap: 5px;\r\n  font-size: 1.4rem;\r\n  list-style: none;\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid #777;\r\n}\r\n\r\n.introduction-detail-list{\r\n  display: flex;\r\n  flex-direction: column;\r\n  row-gap: 10px;\r\n  padding-left: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeatMap3d.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeatMap3d.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeatMap3d.vue?vue&type=template&id=65affdfa&scoped=true&\"\nimport script from \"./HeatMap3d.vue?vue&type=script&lang=js&\"\nexport * from \"./HeatMap3d.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeatMap3d.vue?vue&type=style&index=0&id=65affdfa&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65affdfa\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","isMounted","attrs","_e","on","$event","startMeasuremunt","stopMeasuremunt","_m","_l","scores","score","key","class","tag","_s","color","name","value","staticRenderFns","data","timer","deltaTime","thetaArray","phiArray","methods","document","clearInterval","getCameraLocation","convertTheta","theta","convertPhi","phi","calculateFrontScore","thetaFrontScore","phiFrontScore","frontScore","calculateBackScore","thetaBackScore","phiBackScore","backScore","calculateRightScore","thetaRightScore","phiRightScore","rightScore","calculateLeftScore","thetaLeftScore","phiLeftScore","leftScore","calculateUpDownScore","upScore","downScore","scoreToColor","r","g","b","setMaterialColor","flontMaterial","resetMaterialColor","NormalizeScore","TotalScore","mounted","computed","loadComponent","component"],"sourceRoot":""}